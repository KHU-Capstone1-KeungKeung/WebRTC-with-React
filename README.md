# WebRTC-with-React

## π“ Terms
### π“‘ P2P ν†µμ‹ 
P2P ν†µμ‹ μ€ ν΄λΌμ΄μ–ΈνΈ/μ„λ²„ κ΄€κ³„κ°€ μ•„λ‹ λ™λ“±ν• κ¶ν•μ„ κ°–λ” κ΄€κ³„κ°„μ ν†µμ‹ μ μλ―Έν•λ‹¤. μ¤‘μ•™μ§‘μ¤‘ κ΄€λ¦¬μ© μ„λ²„ μ—†μ΄ μ¦‰μ‹ λ„¤νΈμ›ν¬ κµ¬μ¶•μ΄ κ°€λ¥ν•λ‹¤. ν”ν μ±„ν…, μμ•…/λ™μμƒ νμΌ κ³µμ , μ¨λΌμΈ κ²μ„ λ“±μ—μ„ μ‚¬μ©λλ‹¤.
### π“‘ Web RTCβ€ƒ
#### β–¶ NAT(Network Address Translation)
P2P ν†µμ‹ , μ„μμ λ‘ λΈλΌμ°μ €κ°€ μ§μ ‘ ν†µμ‹ μ„ ν•κΈ°μ„ν•΄μ„λ” public IP μ£Όμ†λ¥Ό μ•μ•„λ‚΄μ•Όν•λ‹¤. ν•μ§€λ§ μΌλ°μ μΈ κ°μΈ μ»΄ν“¨ν„°μ—λ” public IP κ°€ ν• λ‹Ήλμ–΄ μμ§€ μ•λ‹¤. NATκ°€ μ—¬λ¬ λ€μ μ»΄ν“¨ν„°κ°€ ν•λ‚μ public IPλ¥Ό κ³µμ ν•κ² ν•κ³ , κ° μ»΄ν“¨ν„°λ” DHCPλ¥Ό ν†µν•΄ μ ν΄ μƒνƒμ IPλ¥Ό μΌμ‹μ μΌλ΅ μ„λ€ λ°›μ•„ μ‚¬μ©ν•κΈ° λ•λ¬Έμ΄λ‹¤. μΌλ°μ μΌλ΅ NAT μ—­ν• μ„ ν•λ” λΌμ°ν„°κ°€ μ™Έλ¶€μ—μ„ μ ‘κ·Όν•λ” κ³µμΈ IPμ™€ port λ²νΈλ¥Ό ν™•μΈν•μ—¬ ν„μ¬ λ„¤νΈμ›ν¬ λ‚΄μ μ‚¬μ„¤ IPλ“¤μ„ λ§¤ν•‘μ‹μΌμ£Όλ” μ—­ν• μ„ ν•λ‹¤. ν•μ§€λ§ μ–΄λ–¤ λΌμ°ν„°λ“¤μ€ νΉμ • μ£Όμ†λ‚ ν¬νΈμ™€μ μ—°κ²°μ„ μ°¨λ‹¨ν•λ” λ°©ν™”λ²½μ΄ μ„¤μ •λμ–΄ μμ„ μ μλ‹¤. μ΄λ° κ²½μ° λΌμ°ν„°λ¥Ό ν†µκ³Όν•μ—¬ μ—°κ²°ν•  λ°©λ²•μ„ μ°Ύλ” κ³Όμ •(NAT traversal)μ΄ ν•„μ”ν•λ‹¤

#### β–¶ STUN(Session Traversal Utilities for NAT) server
STUN serverμ—μ„ NAT traversal μ‘μ—…μ΄ μ΄λ£¨μ–΄μ§„λ‹¤. STUN λ°©μ‹μ€ ν΄λΌμ΄μ–ΈνΈκ°€ μμ‹ μ„ μ‹λ³„ν•  μ μλ” μ μΌν• public IPμ™€ port λ²νΈλ¥Ό ν™•μΈν•λ” ν”„λ΅ν† μ½μ΄λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” STUN serverμ— μμ‹ μ public IPμ™€ NAT λ’¤μ— μλ” λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘κ·Ό κ°€λ¥ν•μ§€μ— λ€ν• λ‹µλ³€μ„ μ”μ²­ν•λ‹¤. λ§μ•½ NAT μ—­ν• μ„ ν•λ” λΌμ°ν„°μ— μ—„κ²©ν• λ³΄μ• μ •μ±…(symmetric NAT)μΌλ΅ μΈν•΄ λ‹¤λ¥Έ ν΄λΌμ΄μ–ΈνΈμ μ ‘κ·Όμ΄ λ¶κ°€λ¥ν• κ²½μ°, λ€μ•μ΄ ν•„μ”ν•λ‹¤.

#### β–¶ TURN(Traversal Using Relays around NAT) server
TURN serverλ¥Ό ν†µν•΄ symmetric NAT λ¥Ό μ°νν•λ‹¤. TURN λ°©μ‹μ€ λ„¤νΈμ›ν¬ λ―Έλ””μ–΄λ¥Ό μ¤‘κ°ν•λ” μ„λ²„λ¥Ό μ΄μ©ν•λ‹¤. μ¤‘κ°„μ— μ„λ²„λ¥Ό ν• λ² κ±°μΉκΈ° λ•λ¬Έμ— μ¤λ²„ν—¤λ“κ°€ λ°μƒν•λ‹¤. ν•μ§€λ§ λ³΄μ• μ •μ±…μ΄ μ—„κ²©ν• κ°μΈ NAT λ‚΄λ¶€μ λΈλΌμ°μ €μ™€ P2P ν†µμ‹ μ„ ν•κΈ° μ„ν•΄μ„λ” TURN λ°©μ‹μ΄ μ μΌν• λ°©λ²•μ΄κΈ° λ•λ¬Έμ—, λ‹¤λ¥Έ λ€μ•μ΄ μ—†μ„ κ²½μ° μµν›„μ μλ‹¨μΌλ΅ μ„ νƒν•΄μ•Όν•λ‹¤.

#### β–¶ ICE(Interactive Connectivity Establishment) and candidate
candidateλ” STUN, TURN μ„λ²„λ¥Ό μ΄μ©ν•΄ νλ“ν• IP address, ν”„λ΅ν† μ½, port μ΅°ν•©μΌλ΅ κµ¬μ„±λ μ—°κ²° κ°€λ¥ν• λ„¤νΈμ›ν¬ μ£Όμ† ν›„λ³΄μ΄λ‹¤.β€¨ICEλ” λ‘ κ°μ λ‹¨λ§μ΄ P2P μ—°κ²°μ„ κ°€λ¥ν•κ² ν•λ„λ΅ μµμ μ κ²½λ΅λ¥Ό μ°Ύμ•„μ£Όλ” ν”„λ μ„μ›ν¬μ΄λ‹¤. ICE ν”„λ μ„μ›ν¬λ” STUN, λλ” TURN μ„λ²„λ¥Ό μ΄μ©ν•΄ μƒλ€λ°©κ³Ό μ—°κ²° κ°€λ¥ν• candidateλ¥Ό κ°€μ§€κ³  μλ‹¤.

#### β–¶ SDP(Session Description Protocol)
SDPλ” WebRTCμ—μ„ μ¤νΈλ¦¬λ°ν•κΈ° μ„ν• λ―Έλ””μ–΄μ ν•΄μƒλ„, ν•μ‹, μ½”λ± λ“±μ μ΄κΈ° μ„¤μ •μ„ μ„ν•΄ μ±„νƒν• ν”„λ΅ν† μ½μ΄λ‹¤.

#### β–¶ Signaling
Signalingμ€ WebRTC μ—°κ²° μ „ λ‘ λ‹¨λ§μ΄ P2P ν†µμ‹ μ„ μ„ν• μ μ–΄ μ •λ³΄λ¥Ό κµν™ν•λ” κ³Όμ •μ΄λ‹¤.

## Architecture
![WebRTC](https://user-images.githubusercontent.com/42965120/171585522-b4b4648f-3b8a-492a-ae7b-644f7850eb6f.png)

<br>

## π“ How to Use
### Start Signaling server (socket server)
```
cd WebRTC-with-React
npm install
node index.js
'''

### Start React Server
'''
cd app
npm install
npm start
```

## π“ Result
![κ²°κ³Ό ν™”λ©΄](https://user-images.githubusercontent.com/42965120/171580698-821717e2-c30d-4287-abe3-5bde0dd4cae6.png)
